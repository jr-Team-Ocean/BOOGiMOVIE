<!DOCTYPE html>
<html lang="en" xmlns="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BOOGiMOVIE 회원가입</title>
    <!-- 폰트 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" th:href="@{/css/member/signUp.css}">
    
</head>
<body>
    <div class="container">
        <div class="logo">
            <img th:src="@{/images/common/logo_basic.png}">
        </div>
        <div class="header">
            <div>휴대폰으로 인증</div>
            <div class="steps">
                <div class="basic select">1</div>
                <div class="basic">2</div>
            </div>
        </div>
        
        <div class="line"></div>

        <div class="step1">
            <div>사용할 휴대폰 번호를 입력해 주세요.</div>
        
            <label for="phone">휴대폰 번호</label>
            <input type="tel" name="phone" id="phone" placeholder="숫자만 입력해주세요." maxlength="11">
            <div class="auth-input hidden">
                <div>
                    <input type="text" name="auth" id="authKey" placeholder="인증번호 6자리" maxlength="6">
                    <span id="auth-time">03:00</span>
                </div>
                <button class="reBtn">확인</button>
                <button class="reBtn">재전송</button>
            </div>
            <div class="description hidden">
                인증번호가 전송되었습니다.<br>미전송 시 휴대폰 번호를 확인해 주세요
            </div>
    
            <button id="sendBtn">인증번호 발송</button>
        </div>
        

        <div class="step2 hidden">
            <form th:action="@{/member/signUp}" method="POST" name="signUpFrm" id="signUpFrm">
                <label for="memberId">
                    <span class="required">*</span>
                    아이디
                </label>
                <input type="text" name="memberId" id="ID" placeholder="4~12자리 영소문자, 숫자" maxlength="12" autocomplete="username">
                <span class="signUp-message" id="id-message"></span>
                
                <label for="password">
                    <span class="required">*</span>
                    비밀번호
                </label>
                <input type="password" name="password" id="password" placeholder="8~16자리 영어, 숫자, 특수문자(!@#$%^&*-) 조합" maxlength="12" autocomplete="new-password">
                <span class="signUp-message" id="pw-message"></span>

                <label for="passwordCheck">
                    <span class="required">*</span>
                    비밀번호 확인
                </label>
                <input type="password" name="passwordCheck" id="passwordCheck" placeholder="비밀번호 재입력" maxlength="12" autocomplete="new-password">
                <span class="signUp-message" id="pw-check-message"></span>

                <label for="realName">
                    <span class="required">*</span>
                    이름 (실명)
                </label>
                <input type="text" name="realName" id="realName" placeholder="2~5자리 한글만 가능" maxlength="5">
                <span class="signUp-message" id="name-message"></span>

                <label for="birthDate">
                    <span class="required">*</span>
                    생년월일(8글자)
                </label>
                <input type="text" name="birthDate" id="birthDate" placeholder="ex) 20251221" maxlength="8">
                <span class="signUp-message" id="brith-message"></span>
                
                <label for="phoneNumber">
                    <span class="required">*</span>
                    전화번호
                </label>
                <input type="tel" name="phoneNumber" id="phoneNumber" placeholder="‘-’ 없이 숫자만 입력" maxlength="11">
                <span class="signUp-message" id="tel-message"></span>

                <label for="nickName">
                    <span class="required">*</span>
                    닉네임
                </label>
                <input type="text" name="nickName" id="nickName" placeholder="2~8자리 한글, 영어, 숫자 조합" maxlength="8">
                <span class="signUp-message" id="nickName-message"></span>

                <label for="email">
                    <span class="required">*</span>
                    이메일
                </label>
                <input type="email" name="email" id="email" placeholder="주문 알림을 받을 이메일 (예: example@gmail.com)">
                <span class="signUp-message" id="email-message"></span>

                <label for="address">
                    <span class="required">*</span>
                    주소
                </label>
                <div class="address-input-area1">
                    <input type="text" name="address" placeholder="우편번호" 
                    maxlength="6" id="sample6_postcode">
                    <button type="button" class="button" onclick="sample6_execDaumPostcode()">검색</button>
                </div>
                <div class="address-input-area">
                    <input type="text" name="address" id="sample6_address" placeholder="도로명/지번 주소">
                </div>
                <div class="address-input-area">
                    <input type="text" name="address" id="sample6_detailAddress" placeholder="상세 주소">
                </div>

                <button id="signUpBtn">가입하기</button>
            </form>
        </div>
    </div>

    <script th:src="@{/js/member/signUp.js}"></script>

    <!-- 주소 검색 api -->
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script>
        function sample6_execDaumPostcode() {
            new daum.Postcode({
                oncomplete: function(data) {
                    // 팝업에서 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.

                    // 각 주소의 노출 규칙에 따라 주소를 조합한다.
                    // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
                    var addr = ''; // 주소 변수

                    //사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.
                    if (data.userSelectedType === 'R') { // 사용자가 도로명 주소를 선택했을 경우
                        addr = data.roadAddress;
                    } else { // 사용자가 지번 주소를 선택했을 경우(J)
                        addr = data.jibunAddress;
                    }

                    // 우편번호와 주소 정보를 해당 필드에 넣는다.
                    document.getElementById('sample6_postcode').value = data.zonecode;
                    document.getElementById("sample6_address").value = addr;
                    // 커서를 상세주소 필드로 이동한다.
                    document.getElementById("sample6_detailAddress").focus();
                }
            }).open();
        }
    </script>

</body>
</html>